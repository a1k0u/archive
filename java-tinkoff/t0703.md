### Web, HTTP

Книги до веба были единственным источником инфорации. Но у книг есть недостатки:
- Объем данных (не прокрывает все данные)
- Возможность последовательного чтения (один неизвестный термин оббъясняется другим неизвестным термином, а где-то нужно разгадать эту цепочку)
- Портятся со временем, изнашиваются

Веб возникает как следствие, чтобы исправить это. Веб держится на трёх китах HTTP, URL, HTML.

HTML - стандартизированный язык гипертекстовой разметки документов для просмотра веб-страниц в браузере. Формат был создан для возможности чтения документа. Главное особенность - встраивоемость гиперссылок. Когда есть неизвестные термины, потому что можно провалиться внутрь. 

URL - идентифатор доступа к жругому устройству. схема логин пароль хост порт url-путь паметры якорь. Для получения доступа нужно обращаться по IP-адресу. 
 
DNS. Если мы хотим обратиться к определенному устройству, то нужно использовать IP. Но его сложно замнить, поэтому проще использовать DNS. DNS - таблица соотнешний, ключ - имя сайта, ключ - ip адрес. Домены бывают многих уровненей. Приписка через точку повышает уровень домена.
 
Как научить устройства общаться друг с другом? Нам нужен протокол. Протокол - описания как нужно общаться друг с другом, без него коммуникация невозможна. На первых параз веба было много протоколов. Помимо HTTP есть FTP и большое количество других протоколов. 

Стандартизация нужна для того, чтобы производители использовали одиновые способы для обмена информации. Представим, что мы начали использовать азбуку Морза. Как у разных устройств нет единого протокола - общение невозможно. 

Рассмотрим небольшую коммуникаю с помощью telnet для подклчения к FTP серверу.

telnet fpt.dlptest.com 21 <- порт
Вводом пользователя и пароль
USER dlpuser
PASS ...

230 Login successful. подклбчени успешно

help  (получим списко команд )

Первые протоколы были текстовыми, так как не было браузеров, а только консоли.

Итого: веб возник как следствие проблем бумажных источников. Ему в этом помогает оцифровка протоколы (IP, HTTP, URL, DNS) и HTML - форматЮ позволяющий читать в произвольной форме.

##### Модель OSI

Состоит из 7 уровней. Мы общаемся между устройстваи по HTTP протоколу, но осталось много за кадром. Нам нужно соединить устройства для этого была придумана модель OSI.

На физическом уровне - провод, нам нужен провод, чтобы объединить устройства в сеть. С развитием технологий появились беспроводные сети. На этом уровне работает протокол Ethrnet. Электрические сигналы в логические и посылает результат на следующий уроверь. Чтобы оюъединить два устройства нжен какой-нибуль hub и repeater, hub - тупенький, потому что всем расслывает сигнал. Repeater - повторяет сигнал, чтобы не потерялся. 

На канальном уровке чтобы передать из одной сигнальной сети в другую Frame - единица данных (конверт), потому что у настье mac-адрес отправител ии получателя. Протоколы - PPP. Утсройства - коммутатор и сетевой мост.

Сетевой уровень. Единица передачи - пакет. IP адреса отправителя и получателя. Он не похож на канальный уровень, потмоу что предыдущий переидывает сети, а это работает в одной сети. Протокол - IP, их две версии ipv4, ipv6, две варсии, так как 32 битное число не покрывает все устройства. На этом сетевом уровне работает маршрутизатор.

Транспортный уровень отвечает за передачу данных по сети. Нам нужна некоторая надстрока для целостности передачи сообщения. TCP - будет контралировать, чтобы пакет дошел. UDP - не проверяет целостность данных. TCp работает с сегментами, явялющийся частью пакета. Он досылает, если что-то не дошло. UDP - дейтаграммы, доставояюстя разными маршрутами в произвольном порядке.

Сеансовый уровень. Прмиер: звонок skype 

Уровень представления. Преобразование форматов данных, кодирование, сжатие, шифрование.

Прикладной уровень. обеспечивающий взаимодействие пользовательсих приожений с сетью. Протоклы: htpp, https, ftp, smtp.

##### Модель TCP/IP

Модель OSI - концептуальная модель. На заре интернета была предложена эта модель. Но производители поняли, что OSI сложно. В итоге она (сеть) превратилась в TCP/IP (4 уровня). 

- уровень доступа к сети 
- уровень сети интернет
- транспортный уроверь
- приекладной (приложение)

##### HTTP

этот протокол имеет как запрос так и ответ. Все они состоят из startline, загаловнокв, темы, .  

Requests

POST / HTTP/1.1 <- startline; метод, путь, версия
HTTP headers - мета информация, описывающая осебвенности клиента и ьело
пустая строка здесь
body - основне содерджание

Pesponses

HTTP/1.1 403 Forbidden
HTTP headers
пустая строка тут
body


get - получить данные от сервера
post - передача данных, запуск процедур, загрузка файлов
put - создание или измененение ресурсов (сущность обновляется полностью)
patch - аналогичен put, но в запросе используется фрагмент ресурса (частичное изменение)
delete - удаление ресурса

идемпотентный - свойство объекта или операции при повторном применении операции к объекту давать тот же результат, что и при первом

head - получаем только заголовки, получение данных от сервера
options - определени возможностей веб-сервера

Статус-коды

1xx - информационные
2xx - успешные (Ok, created, accepted, partial content)
3xx - ресурс перемещен (moved permanently, found, temp.. redirect)
4xx - ошибки клиента (not found, bad request, unauthrozied)
5xx - ошибки сервера (bad gateway)

Для чего могут использовать http заголовки. Для запроса и ответа разные загоовки. Они используются для описания возможностей клиента. 

Для звпроса:
Host- обязательный заголовок
User-Agent - навазвание и версия клиента
Accept - список MEM Type, которые клиент может обработать
Accept-Language - зык, который клиент ожидает
Accept-Encoding - список способов кодирования
Accept-Charset - список кодирово. 
Authorzation - в этом загловке клиент может передать данные для авторизации

Дляь ответа:
Content-Type
Content-Length

HTTP - stateless протокол, то есть у него есть состояния. Нельзя разделить пользвоателй. А нам хчоется всех различать. Поэтому ввели механихм куки, фразмент данных, который сохоанятеся в браузере. Кука пригладывается к каждому запросу. 

Настройки кук: expired, max-age - время жизни куки, domain - ограничить область действия, secure - для секьюрных запросов. Короче, есть атрибуты куки.

Базовый механизм HTTP аутентификации. 

Аутетнтикация - проверяет дсотоверность логин пароля. Если все подошло, то мы прошли аутентификацию.

Авторизация - проедоставление определенному лицу или группе лиц прав на выполнение определенных действий.

На клиенте делаем запрос к серверу. В ответ получает 401 - Unauthorazied. Для оступа нужно ввести паролью Используем Authrazition: Basic login:password в base64

login:password в base64 -> либо 200 либо 401.

curl -X GET localhost:8080/articles

ФОрмат обмена сообщениями:

JSON - стандартный текстовый формат для представления стурутрированных данных на основе синтасиса JS.

XML - был ещё такий формат передачи данных. Но json-чик получается легче читаемым. json меньше символов, чем в xml.

messagepack - бинарный формат сериализации данных. благодаря компактности и скорости, его часто выбирают для формата обмена данными в системах, где важна производительность. 

json, xml, yaml - ткстовый форматы

это набор инструментов который позволяет автоматичеки описывтаь api на основе его кода. API (application programming interface) - описание способо взаимодействия одной компьютерной программы с другими. Дументация, автомически созданная через Swagger, облегчает понимание API для компьютеров и людей. 

Способы создания документации:
- code first - документация генерируется на основе кода
- api first - сначала пишется документация, но основе которой пишется код.
